{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/xinxin/Documents/HBuilderProjects/mz_mall/pages/order/order.vue?b210","webpack:///C:/Users/xinxin/Documents/HBuilderProjects/mz_mall/pages/order/order.vue?1cf9","webpack:///C:/Users/xinxin/Documents/HBuilderProjects/mz_mall/pages/order/order.vue?3813","webpack:///C:/Users/xinxin/Documents/HBuilderProjects/mz_mall/pages/order/order.vue?141e","uni-app:///pages/order/order.vue","webpack:///C:/Users/xinxin/Documents/HBuilderProjects/mz_mall/pages/order/order.vue?27cc","webpack:///C:/Users/xinxin/Documents/HBuilderProjects/mz_mall/pages/order/order.vue?608a"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqEnnB;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA,cAFA;AAGA,kBAHA;AAIA,kBAJA;AAKA,qBALA;AAMA,wBANA;AAOA,mBAPA;AAQA,2CARA;;AAUA,GAZA;AAaA;AACA;AACA,cAFA,wBAEA;AACA;AACA,KAJA,EAbA;;AAmBA;AACA;AACA,oBAFA,4BAEA,CAFA,EAEA;AACA;AACA,KAJA;AAKA;AACA,SANA,mBAMA;AACA;AACA;AACA,sDADA;AAEA,uDAFA;AAGA,kCAHA;AAIA,iDAJA;AAKA,mCALA;AAMA,YANA,CAMA;AACA;AACA;AACA;AACA,SAVA;AAWA,OAZA,MAYA;AACA;AACA,6BADA;AAEA,sBAFA;;AAIA;;AAEA,KA1BA;AA2BA;AACA,WA5BA,qBA4BA;AACA,oBADA,GACA,+BADA;AAEA;AACA,iDADA;AAEA,0CAFA,GAFA,+CAEA,GAFA,yBAEA,IAFA;;AAMA;AACA;AACA;AACA;AACA;AACA,iBAHA,EARA;AAYA,KAxCA;AAyCA;AACA,kBA1CA,4BA0CA;AACA;AACA,yDADA,KADA,gDACA,GADA,yBACA,IADA;;AAIA,8BAJA;AAKA;AACA,6DANA;;;;;AAWA,KArDA;AAsDA;AACA,aAvDA,uBAuDA;AACA;AACA,KAzDA;AA0DA;AACA,iBA3DA,2BA2DA;AACA;AACA,KA7DA,EAnBA;;AAkFA,QAlFA,oBAkFA;AACA;AACA;AACA;AACA;AACA,GAvFA,E;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAi3B,CAAgB,k3BAAG,EAAC,C;;;;;;;;;;;ACAr4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order/order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=127632e4&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/order.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=template&id=127632e4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = Object.keys(_vm.addressInfo)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"order\">\n    <view class=\"address\" v-if=\"Object.keys(addressInfo).length!==0\">\n      <view class=\"address-box\">\n        <view class=\"icon iconfont icon-dingwei\"></view>\n        <view class=\"address-content\">\n          <view class=\"address-user\">\n            <text>收货人:{{addressInfo.username}}</text>\n            <text>{{addressInfo.telphone}}</text>\n          </view>\n          <view class=\"address-detail\">\n            <view>{{addressInfo.city}}</view>\n            <view>{{addressInfo.address}}</view>\n          </view>\n        </view>\n        <view class=\"icon-more iconfont icon-xiangyou\" @click=\"goAddressList\"></view>\n      </view>\n      <view class=\"address-line\"></view>\n    </view>\n    <view class=\"address-empty\"  @click=\"goAddress\" v-else>+ 暂无收货地址，请添加</view>\n    <view class=\"shop-list\">\n      <view class=\"shop-item\" v-for=\"(item1,index) in shopInfo\" :key=\"index\">\n        <view class=\"cart-img\">\n          <image :src=\"baseUrl+item1.mainimage\" mode=\"scaleToFill\"></image>\n        </view>\n        <view class=\"item-content\">\n          <view class=\"item-title\">{{item1.title}}</view>\n          <view class=\"item-attrbute\">{{item1.attr_0+' '+item1.attr_1}}</view>\n          <view class=\"item-total\">\n            <view class=\"item-price\">￥{{item1.price}}</view>\n            <view class=\"item-num\"> x{{item1.num}} </view>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"order-item\">\n      <view class=\"item\">\n        <view>应付金额</view>\n        <view>￥{{allOrder.price}}</view>\n      </view>\n      <view class=\"item\">\n        <view>配送方式</view>\n        <view>\n          <picker @change=\"bindPickerChange\" :value=\"index\" :range=\"logistics\">\n            <view class=\"uni-input\"\n              >{{ logistics[index] }}\n              <text class=\"iconfont icon-xiangyou\"></text></view\n          ></picker>\n        </view>\n      </view>\n      <view class=\"leave-message\">\n        <textarea placeholder=\"备注信息\" :value=\"leaveMess\" />\n      </view>\n      <view class=\"item\">\n        <view>总计:{{totalPrice}}元(含快递费{{logisticsPrice[index]}}元)</view>\n        <view>共{{allOrder.num}}件商品</view>\n      </view>\n    </view>\n    <view class=\"bottom\">\n      <view class=\"bottom-bar\">\n        <view>总计：{{allOrder.num}}件</view>\n        <view @click=\"goPay\">支付 {{totalPrice}}元</view>\n      </view>\n    </view>\n    <view class=\"bottom-empty\"></view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      logistics: [],\n      index: 0,\n      allOrder: {},\n      shopInfo: [],\n\t  addressInfo:{},\n\t  logisticsPrice:[],\n\t  leaveMess:'',\n    baseUrl : 'https://h.0x07.cn/uploads/'\n    };\n  },\n  computed:{\n\t  //计算总价格\n\t  totalPrice(){\n\t\t  return this.allOrder.price + parseFloat(this.logisticsPrice[this.index])\n\t  }\n  },\n  methods: {\n    //更改快递方式\n    bindPickerChange(e) {\n      this.index = e.detail.value;\n    },\n    //跳转支付页面\n     goPay() {\n       if(uni.getStorageSync('addressId')){\n\t\t   this.$request({url:'/member/order',params:{\n        orderShop:uni.getStorageSync('orderShop'),\n\t\taddrressid:uni.getStorageSync('addressId'),\n\t\tprice:this.totalPrice,\n\t\tlogistics:this.logistics[this.index],\n\t\tmessage:this.leaveMess\n\t   }}).then(res=>{\n\t\t   if(res.data.code===1){\n\t\t\t    this.router(\"/pages/pay/pay?id=\"+res.data.data.id);\n\t\t   }\n\t   })\n\t   }else{\n\t\t   uni.showToast({\n\t\t\t   title: '您还没有选择收货地址',\n\t\t\t   icon:'none'\n\t\t   });\n\t   }\n  \n    },\n    //获取数据\n    async getData() {\n      let data = uni.getStorageSync(\"orderShop\");\n      const { data: res } = await this.$request({\n        url: \"/member/getBuyShopInfo\",\n        params: { data },\n      });\n      this.allOrder = res.data.all;\n      this.shopInfo = res.data.shop;\n\t  res.data.logistics.forEach(item => {\n\t\t  this.logistics.push(item.name)\n\t\t  this.logisticsPrice.push(item.price)\n\t  });\n    },\n\t//获取地址数据\n\tasync getAddressData(){\n\t\tconst {data:res} = await this.$request({url:'/member/getOrderAddress',params:{\n\t\t\tid:uni.getStorageSync('addressId')\n\t\t}}) \n\t\tif(res.code===1){\n\t\t\tthis.addressInfo= res.data\n\t\t\tuni.setStorageSync('addressId',res.data.id)\n\t\t}else{\n\t\t\treturn\n\t\t}\n\t\t\n\t},\n\t//如果没有地址跳转添加地址\n\tgoAddress(){\n\t\tthis.router('/pages/address/addAddress')\n\t},\n\t//点击选择地址\n\tgoAddressList(){\n\t\tthis.router('/pages/address/address?backUrl=order')\n\t}\n  },\n  onShow() {\n\tthis.logisticsPrice=[]\n\tthis.logistics=[]\n    this.getData();\n\tthis.getAddressData()\n  },\n};\n</script>\n\n<style>\n.order {\n  width: 100%;\n  background-color: #f4f4f4;\n  padding: 20rpx 30rpx 0rpx 30rpx;\n}\n.order > view {\n  margin-bottom: 20rpx;\n}\n.address {\n  position: relative;\n}\n.address-box {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 200rpx;\n  background-color: #fff;\n  border-radius: 20rpx;\n}\n.icon,\n.icon-more {\n  width: 100rpx;\n  text-align: center;\n  font-size: 20px;\n}\n.address-content {\n  flex: 1;\n  height: 100%;\n}\n.address-user {\n  height: 70rpx;\n  line-height: 90rpx;\n  margin: 5rpx;\n}\n.address-detail {\n  line-height: 34rpx;\n  color: #999;\n  font-size: 24rpx;\n}\n.address-line {\n  height: 8rpx;\n  background-image: -webkit-linear-gradient(\n    315deg,\n    #82c9ff 8px,\n    transparent 0,\n    transparent 16px,\n    #ff8282 0,\n    #ff8282 32px,\n    transparent 0,\n    transparent 0,\n    transparent 40px,\n    #82c9ff 0,\n    #82c9ff\n  );\n  background-image: linear-gradient(\n    135deg,\n    #82c9ff 8px,\n    transparent 0,\n    transparent 16px,\n    #ff8282 0,\n    #ff8282 32px,\n    transparent 0,\n    transparent 0,\n    transparent 40px,\n    #82c9ff 0,\n    #82c9ff\n  );\n  background-color: #fff;\n  background-size: 136rpx 8rpx;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n}\n.shop-item {\n  display: flex;\n  width: 100%;\n  height: 265rpx;\n  padding: 30rpx 0;\n  border-bottom: 1px solid #e5e5e5;\n  align-items: center;\n  background-color: #fff;\n}\n.cart-img {\n  width: 200rpx;\n  height: 200rpx;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n}\n.cart-img image {\n  width: 200rpx;\n  height: 200rpx;\n}\n.item-content {\n  width: 100%;\n  height: 100%;\n}\n.item-title {\n  display: -webkit-box;\n  overflow: hidden;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.item-attrbute {\n  color: #999;\n}\n.item-total {\n  height: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.item-price {\n  color: #e20307;\n  font-size: 36rpx;\n}\n.item-num {\n  height: 50rpx;\n  width: 50rpx;\n  color: #999;\n  text-align: center;\n  margin-right: 20rpx;\n}\n.order-item {\n  background-color: #fff;\n  padding-top: 25rpx;\n}\n.item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 80rpx;\n  padding: 0 20rpx;\n  margin-bottom: 20rpx;\n}\n.item > view:nth-child(2) {\n  color: #999;\n  font-size: 28rpx;\n  height: 100%;\n  line-height: 80rpx;\n}\n.leave-message {\n  height: 70rpx;\n  background-color: #f4f4f4;\n  margin-left: 40rpx;\n  border-radius: 35rpx;\n  margin-bottom: 20rpx;\n}\n.leave-message textarea {\n  height: 100%;\n  width: 100%;\n  line-height: 70rpx;\n  padding-left: 20rpx;\n  color: #999;\n  font-size: 24rpx;\n}\n.bottom-bar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 100rpx;\n  background-color: #fff;\n}\n.bottom-bar > view:nth-child(2) {\n  width: 300rpx;\n  text-align: center;\n  line-height: 100rpx;\n  color: #fff;\n  background-color: #0bbaef;\n  border-radius: 50rpx;\n}\n.bottom {\n  height: 100rpx;\n  position: fixed;\n  bottom: 0;\n  left: 30rpx;\n  right: 30rpx;\n  margin: auto !important;\n  z-index: 99;\n  background-color: #fff;\n}\n.address-empty {\n  width: 100%;\n  height: 85rpx;\n  line-height: 85rpx;\n  text-align: center;\n  background-color: #fff;\n  color: #0bbaef;\n}\n.bottom-empty {\n  width: 100%;\n  height: 100rpx;\n  background-color: #fff;\n}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1629450516991\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}